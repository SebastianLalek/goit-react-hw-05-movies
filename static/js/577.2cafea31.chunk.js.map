{"version":3,"file":"static/js/577.2cafea31.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/filmList/FilmList.module.css?2dee","components/filmList/FilmList.jsx","components/consts/theMoviesDB.js","js/apiRequest.js","webpack://react-homework-template/./src/pages/movies/Movies.module.css?c186","pages/movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"FilmList_list__g+OQv\",\"listItem\":\"FilmList_listItem__GK+jr\",\"listLink\":\"FilmList_listLink__lRtLn\"};","import { Link, useLocation } from 'react-router-dom';\n\nimport PropTypes from 'prop-types';\n\nimport css from './FilmList.module.css';\n\nexport default function FilmList({ list }) {\n  const location = useLocation();\n\n  return (\n    <ul className={css.list}>\n      {list.map(element => (\n        <li className={css.listItem} key={element.id}>\n          <Link\n            className={css.listLink}\n            to={`/movies/${element.id}`}\n            state={{ from: location }}\n          >\n            {element.original_title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nFilmList.propTypes = {\n  list: PropTypes.array,\n};\n","export const apiKey = process.env.REACT_APP_API_KEY;\nexport const apiUrl = 'https://api.themoviedb.org/3/';\n","import axios from 'axios';\nimport { apiKey, apiUrl } from 'components/consts/theMoviesDB';\n\nexport const apiRequest = async (endpoint, additionalParams) => {\n  const url = `${apiUrl}${endpoint}`;\n\n  const params = {\n    api_key: apiKey,\n    ...additionalParams,\n  };\n  const result = await axios\n    .get(url, { params })\n    .then(result => result.data)\n    .catch(err => console.log(err));\n\n  return result;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Movies_button__+2NGv\",\"input\":\"Movies_input__+JkfI\"};","import FilmList from 'components/filmList/FilmList';\n\nimport { apiRequest } from 'js/apiRequest';\nimport { useEffect, useState } from 'react';\n\nimport css from './Movies.module.css';\nimport { useSearchParams } from 'react-router-dom';\n\nexport default function Movies() {\n  const [films, setFilms] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  function submitQuery(e) {\n    e.preventDefault();\n    const input = e.target.query.value;\n\n    setSearchParams({ query: input });\n  }\n\n  useEffect(() => {\n    async function fetchFilms() {\n      const query = searchParams.get('query');\n      if (!query) {\n        return;\n      }\n      const data = await apiRequest('search/movie', { query: query });\n      console.log(data);\n      setFilms([...data.results]);\n      console.log(searchParams);\n    }\n\n    fetchFilms();\n  }, [searchParams]);\n\n  return (\n    <>\n      <form className={css.form} onSubmit={submitQuery}>\n        <input className={css.input} name=\"query\" placeholder=\"Search movies\" />\n        <button className={css.button}>Search</button>\n      </form>\n\n      <FilmList list={films} />\n    </>\n  );\n}\n"],"names":["FilmList","_ref","list","location","useLocation","_jsx","className","css","children","map","element","Link","to","concat","id","state","from","original_title","apiKey","process","REACT_APP_API_KEY","apiRequest","_asyncToGenerator","_regeneratorRuntime","_callee","endpoint","additionalParams","url","params","result","_context","prev","next","_objectSpread","api_key","axios","then","data","catch","err","console","log","sent","abrupt","stop","_x","_x2","apply","arguments","Movies","_useState","useState","_useState2","_slicedToArray","films","setFilms","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","useEffect","_fetchFilms","query","get","_toConsumableArray","results","fetchFilms","_jsxs","_Fragment","onSubmit","e","preventDefault","input","target","value","name","placeholder"],"sourceRoot":""}